(()=>{var e={184:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var i=s.apply(null,n);i&&e.push(i)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)a.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.element;var t=n(184),a=n.n(t);const s=window.wp.i18n,r=window.wp.blocks,i=window.wp.data,l=window.wp.blockEditor,o=window.wp.components,u=window.wp.serverSideRender;var p=n.n(u);class c extends e.Component{constructor(){super(...arguments),this.toggle=this.toggle.bind(this),this.submitLink=this.submitLink.bind(this),this.state={expanded:!1}}toggle(){this.setState({expanded:!this.state.expanded})}submitLink(e){e.preventDefault(),this.toggle()}render(){const{url:t,onChange:n}=this.props,{expanded:r}=this.state,i=t?(0,s.__)("Change Inserted Page","insert-page"):(0,s.__)("Insert Page","insert-page");return(0,e.createElement)("div",{className:"editor-url-input__button block-editor-url-input__button block-editor-insert-page__button"},(0,e.createElement)(o.Button,{icon:"admin-links",label:i,onClick:this.toggle,className:a()("components-toolbar__control",{"is-active":t})}),r&&(0,e.createElement)("form",{className:"editor-url-input__button-modal block-editor-url-input__button-modal",onSubmit:this.submitLink},(0,e.createElement)("div",{className:"editor-url-input__button-modal-line block-editor-url-input__button-modal-line"},(0,e.createElement)(o.Button,{className:"editor-url-input__back block-editor-url-input__back",icon:"arrow-left-alt",label:(0,s.__)("Close"),onClick:this.toggle}),(0,e.createElement)(l.URLInput,{value:t||"",onChange:n}),(0,e.createElement)(o.Button,{icon:"editor-break",label:(0,s.__)("Insert"),type:"submit"}))))}}const g=c;(0,r.registerBlockType)("insert-pages/block",{title:(0,s.__)("Insert Page","insert-page"),description:(0,s.__)("Insert a page, post, or custom post type.","insert-page"),category:"widgets",icon:"media-default",keywords:[(0,s.__)("insert","insert-page"),(0,s.__)("embed","insert-page"),(0,s.__)("shortcode","insert-page")],attributes:{url:{type:"string",default:""},page:{type:"number",default:0},display:{type:"string",default:"title"},template:{type:"string",default:""},class:{type:"string",default:""},id:{type:"string",default:""},inline:{type:"bool",default:!1},public:{type:"bool",default:!1},querystring:{type:"string",default:""},size:{type:"string",default:""}},edit:t=>{const n=(e,n)=>{t.setAttributes({url:e,page:n&&n.id||0})},r=(0,i.useSelect)((e=>{const{getSettings:t}=e(l.store);return(t()?.imageSizes||[]).map((e=>({label:e.name,value:e.slug})))}));return[t.attributes.page>0?(0,e.createElement)(p(),{block:"insert-pages/block",key:"insert-pages/block",attributes:t.attributes}):(0,e.createElement)("h2",{key:"insert-pages/block"},(0,s.__)("Choose a page to insert.","insert-page")),!!t.isSelected&&(0,e.createElement)(l.BlockControls,{key:"controls"},(0,e.createElement)(o.Toolbar,{label:(0,s.__)("Insert page","insert-page"),className:"components-toolbar"},(0,e.createElement)(g,{url:t.attributes.url,onChange:n}))),!!t.isSelected&&(0,e.createElement)(l.InspectorControls,{key:"inspector"},(0,e.createElement)(o.Panel,{className:"wp-block-insert-pages-block__inspector-controls"},(0,e.createElement)(o.PanelBody,{title:(0,s.__)("Insert Page","insert-page")},(0,e.createElement)(l.URLInput,{value:t.attributes.url,onChange:n,autoFocus:!1,className:"width-100"})),(0,e.createElement)(o.PanelBody,{title:(0,s.__)("Settings","insert-page")},(0,e.createElement)(o.SelectControl,{label:(0,s.__)("Display","insert-page"),value:t.attributes.display,options:[{label:(0,s.__)("Title","insert-page"),value:"title"},{label:(0,s.__)("Link","insert-page"),value:"link"},{label:(0,s.__)("Excerpt with title","insert-page"),value:"excerpt"},{label:(0,s.__)("Excerpt only (no title)","insert-page"),value:"excerpt-only"},{label:(0,s.__)("Content","insert-page"),value:"content"},{label:(0,s.__)("Post Thumbnail","insert-page"),value:"post-thumbnail"},{label:(0,s.__)("All (includes custom fields)","insert-page"),value:"all"},{label:(0,s.__)("Use a custom template Â»","insert-page"),value:"custom"}],onChange:e=>t.setAttributes({display:e})}),(0,e.createElement)(o.TextControl,{label:(0,s.__)("Custom Template Filename","insert-page"),value:t.attributes.template,onChange:e=>t.setAttributes({template:e}),className:a()("custom-template",{hidden:"custom"!==t.attributes.display})}),(0,e.createElement)(o.SelectControl,{label:(0,s.__)("Post Thumbnail Size","insert-page"),value:t.attributes.size,options:r,onChange:e=>t.setAttributes({size:e}),className:a()("custom-size",{hidden:"post-thumbnail"!==t.attributes.display})}),(0,e.createElement)(o.TextControl,{label:(0,s.__)("Custom CSS Class","insert-page"),value:t.attributes.class,onChange:e=>t.setAttributes({class:e})}),(0,e.createElement)(o.TextControl,{label:(0,s.__)("Custom Element ID","insert-page"),value:t.attributes.id,onChange:e=>t.setAttributes({id:e})}),(0,e.createElement)(o.TextControl,{label:(0,s.__)("Custom Querystring","insert-page"),value:t.attributes.querystring,onChange:e=>t.setAttributes({querystring:e})}),(0,e.createElement)(o.ToggleControl,{label:(0,s.__)("Inline?","insert-page"),help:t.attributes.inline?(0,s.__)("Inserted page rendered in a <span>","insert-page"):(0,s.__)("Inserted page rendered in a <div>","insert-page"),checked:t.attributes.inline,onChange:e=>t.setAttributes({inline:e})}),(0,e.createElement)(o.ToggleControl,{label:(0,s.__)("Reveal Private Pages?","insert-page"),help:t.attributes.public?(0,s.__)("Anonymous users can see this inserted even if its status is private","insert-page"):(0,s.__)("If this page is private, only users with permission can see it","insert-page"),checked:t.attributes.public,onChange:e=>t.setAttributes({public:e})}))))]},save:e=>null})})()})();