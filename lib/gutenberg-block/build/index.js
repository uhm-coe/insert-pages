(()=>{var e={942:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React;var t=n(942),a=n.n(t);const r=window.wp.i18n,s=window.wp.blocks,i=window.wp.data,l=window.wp.blockEditor,o=window.wp.components,u=window.wp.serverSideRender;var p=n.n(u);const c=window.wp.element;class g extends c.Component{constructor(){super(...arguments),this.toggle=this.toggle.bind(this),this.submitLink=this.submitLink.bind(this),this.state={expanded:!1}}toggle(){this.setState({expanded:!this.state.expanded})}submitLink(e){e.preventDefault(),this.toggle()}render(){const{url:t,onChange:n}=this.props,{expanded:s}=this.state,i=t?(0,r.__)("Change Inserted Page","insert-page"):(0,r.__)("Insert Page","insert-page");return(0,e.createElement)("div",{className:"editor-url-input__button block-editor-url-input__button block-editor-insert-page__button"},(0,e.createElement)(o.Button,{icon:"admin-links",label:i,onClick:this.toggle,className:a()("components-toolbar__control",{"is-active":t})}),s&&(0,e.createElement)("form",{className:"editor-url-input__button-modal block-editor-url-input__button-modal",onSubmit:this.submitLink},(0,e.createElement)("div",{className:"editor-url-input__button-modal-line block-editor-url-input__button-modal-line"},(0,e.createElement)(o.Button,{className:"editor-url-input__back block-editor-url-input__back",icon:"arrow-left-alt",label:(0,r.__)("Close"),onClick:this.toggle}),(0,e.createElement)(l.URLInput,{value:t||"",onChange:n}),(0,e.createElement)(o.Button,{icon:"editor-break",label:(0,r.__)("Insert"),type:"submit"}))))}}const b=g;(0,s.registerBlockType)("insert-pages/block",{title:(0,r.__)("Insert Page","insert-page"),description:(0,r.__)("Insert a page, post, or custom post type.","insert-page"),category:"widgets",icon:"media-default",keywords:[(0,r.__)("insert","insert-page"),(0,r.__)("embed","insert-page"),(0,r.__)("shortcode","insert-page")],attributes:{url:{type:"string",default:""},page:{type:"number",default:0},display:{type:"string",default:"title"},template:{type:"string",default:""},class:{type:"string",default:""},id:{type:"string",default:""},inline:{type:"bool",default:!1},public:{type:"bool",default:!1},querystring:{type:"string",default:""},size:{type:"string",default:""}},edit:t=>{const n=(e,n)=>{t.setAttributes({url:e,page:n&&n.id||0})},s=(0,i.useSelect)((e=>{const{getSettings:t}=e(l.store);return(t()?.imageSizes||[]).map((e=>({label:e.name,value:e.slug})))}));return[t.attributes.page>0?(0,e.createElement)(p(),{block:"insert-pages/block",key:"insert-pages/block",attributes:t.attributes}):(0,e.createElement)("h2",{key:"insert-pages/block"},(0,r.__)("Choose a page to insert.","insert-page")),!!t.isSelected&&(0,e.createElement)(l.BlockControls,{key:"controls"},(0,e.createElement)(o.Toolbar,{label:(0,r.__)("Insert page","insert-page"),className:"components-toolbar"},(0,e.createElement)(b,{url:t.attributes.url,onChange:n}))),!!t.isSelected&&(0,e.createElement)(l.InspectorControls,{key:"inspector"},(0,e.createElement)(o.Panel,{className:"wp-block-insert-pages-block__inspector-controls"},(0,e.createElement)(o.PanelBody,{title:(0,r.__)("Insert Page","insert-page")},(0,e.createElement)(l.URLInput,{value:t.attributes.url,onChange:n,autoFocus:!1,className:"width-100"})),(0,e.createElement)(o.PanelBody,{title:(0,r.__)("Settings","insert-page")},(0,e.createElement)(o.SelectControl,{label:(0,r.__)("Display","insert-page"),value:t.attributes.display,options:[{label:(0,r.__)("Title","insert-page"),value:"title"},{label:(0,r.__)("Title and Content","insert-page"),value:"title-content"},{label:(0,r.__)("Link","insert-page"),value:"link"},{label:(0,r.__)("Excerpt with title","insert-page"),value:"excerpt"},{label:(0,r.__)("Excerpt only (no title)","insert-page"),value:"excerpt-only"},{label:(0,r.__)("Content","insert-page"),value:"content"},{label:(0,r.__)("Post Thumbnail","insert-page"),value:"post-thumbnail"},{label:(0,r.__)("All (includes custom fields)","insert-page"),value:"all"},{label:(0,r.__)("Use a custom template Â»","insert-page"),value:"custom"}],onChange:e=>t.setAttributes({display:e})}),(0,e.createElement)(o.TextControl,{label:(0,r.__)("Custom Template Filename","insert-page"),value:t.attributes.template,onChange:e=>t.setAttributes({template:e}),className:a()("custom-template",{hidden:"custom"!==t.attributes.display})}),(0,e.createElement)(o.SelectControl,{label:(0,r.__)("Post Thumbnail Size","insert-page"),value:t.attributes.size,options:s,onChange:e=>t.setAttributes({size:e}),className:a()("custom-size",{hidden:"post-thumbnail"!==t.attributes.display})}),(0,e.createElement)(o.TextControl,{label:(0,r.__)("Custom CSS Class","insert-page"),value:t.attributes.class,onChange:e=>t.setAttributes({class:e})}),(0,e.createElement)(o.TextControl,{label:(0,r.__)("Custom Element ID","insert-page"),value:t.attributes.id,onChange:e=>t.setAttributes({id:e})}),(0,e.createElement)(o.TextControl,{label:(0,r.__)("Custom Querystring","insert-page"),value:t.attributes.querystring,onChange:e=>t.setAttributes({querystring:e})}),(0,e.createElement)(o.ToggleControl,{label:(0,r.__)("Inline?","insert-page"),help:t.attributes.inline?(0,r.__)("Inserted page rendered in a <span>","insert-page"):(0,r.__)("Inserted page rendered in a <div>","insert-page"),checked:t.attributes.inline,onChange:e=>t.setAttributes({inline:e})}),(0,e.createElement)(o.ToggleControl,{label:(0,r.__)("Reveal Private Pages?","insert-page"),help:t.attributes.public?(0,r.__)("Anonymous users can see this inserted even if its status is private","insert-page"):(0,r.__)("If this page is private, only users with permission can see it","insert-page"),checked:t.attributes.public,onChange:e=>t.setAttributes({public:e})}))))]},save:e=>null})})()})();